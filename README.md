# –ú–æ–π Printf

–í –∑–∞–¥–∞—á—É –≤—Ö–æ–¥–∏–ª–∞ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–≤–æ–µ–π –≤–µ—Ä—Å–∏–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–≥–æ printf —Å –Ω–µ–∫–æ—Ç–æ—Ä—ã–º–∏ –µ–≥–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏.

–î–ª—è –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –∞—Å—Å–µ–º–±–ª–µ—Ä `NASM`, –∞ –¥–ª—è —Å–≤—è–∑–∏ –æ–±—ä–µ–∫—Ç–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è –ª–∏–Ω–∫–µ—Ä, –≤—ã–∑—ã–≤–∞–µ–º—ã–π –∏–∑ `g++`.

## –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°–±–æ—Ä–∫–∞ –ø—Ä–æ–≥—Ä–∞–º–º—ã

–ù—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç–Ω—ã–π —Ñ–∞–π–ª —Å –ø–æ–º–æ—â—å—é `nasm`

–ü—Ä–∏–º–µ—Ä –¥–ª—è x86-64 Linux:
```
nasm -f elf64 printf.asm -o printf.o
```

–ó–∞—Ç–µ–º —Å–ª–∏–Ω–∫–æ–≤–∞—Ç—å –µ–≥–æ —Å–æ –≤—Å–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–æ–π —Å –ø–æ–º–æ—â—å—é `g++`.

–¢–∞–∫ –∂–µ, —Ñ–∞–π–ª —Å –ø—Ä–æ–≥—Ä–∞–º–º–æ–π –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:
``` C
#include <myprintf.h>
```

### –í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏

–í –∞—Ä–≥—É–º–µ–Ω—Ç—ã —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–≤—ã–º –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–º –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –¥–µ—Å–∫—Ä–∏–ø—Ç–æ—Ä —Ñ–∞–π–ª–∞, –∑–∞—Ç–µ–º —Ñ–æ—Ä–º–∞—Ç–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞–º–∏, –∞ –≤ –ø–æ—Å–ª–µ–¥—É—é—â–∏–µ - –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç—ã –≤ –ø–æ—Ä—è–¥–∫–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤, –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∫–æ—Ç–æ—Ä—ã—Ö –æ–Ω–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.

–î–ª—è –≤—ã–∑–æ–≤–∞ —Å—Ç–æ–∏—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—ë—Ä—Ç–∫—É –∏–∑ –º–∞–∫—Ä–æ—Å–∞:

``` C
enum MyPrintfError MyPrintf (int fd, const char* const format, ...);

#define MY_PRINTF(FILE, FORMAT, ...) \
    MyPrintf (fileno (FILE), FORMAT, __VA_ARGS__);
```

–í —Å–ª—É—á–∞–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç, —Ä–∞–≤–Ω—ã–π `kDonePrintf`, –æ–ø—Ä–µ–¥–µ–ª—ë–Ω–Ω–æ–≥–æ –≤ [myprintf.h](myprintf.h).

<!-- ## –ú–∞–Ω–≥–ª–∏—Ä–æ–≤–∞–Ω–∏–µ

–í–æ –º–Ω–æ–≥–∏—Ö –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞—Ö, –≤ `clang` –∏ `g++`–≤ —Ç–æ–º —á–∏—Å–ª–µ, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –º–∞–Ω–≥–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ–±—ä—è–≤–ª–µ–Ω–∏—è —Ä–∞–∑–Ω—ã—Ö –æ–¥–Ω–æ–∏–º—ë–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏. –≠—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –ø–æ–º–æ—â—å—é –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∫ –∏–º–µ–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏, —Å–æ–¥–µ—Ä–∂–∞—â–µ–π —Ç–∏–ø –≤–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±—É–∫–≤ –≤ –∏–º–µ–Ω–∏ —Ñ—É–Ω–∫—Ü–∏–∏, —Ç–∏–ø—ã –µ—ë –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤. –í —Å–ª—É—á–∞–µ –Ω–∞–ø–∏—Å–∞–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –∞—Å—Å–µ–º–±–ª–µ—Ä–µ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Å—Ç —Å–∞–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∏–º—è –º–µ—Ç–∫–∏ —Ñ—É–Ω–∫—Ü–∏–∏, –ø–æ—ç—Ç–æ–º—É, —á—Ç–æ–±—ã –∫ –º–æ–µ–π —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–µ –ø—Ä–∏–º–µ–Ω—è–ª–æ—Å—å –º–∞–Ω–≥–ª–∏—Ä–æ–≤–∞–Ω–∏–µ, –≤ —Ñ–∞–π–ª–µ [myprintf.h](myprintf.h) —è –ø—Ä–æ–ø–∏—Å–∞–ª –ø–µ—Ä–µ–¥ –µ—ë –æ–±—ä—è–≤–ª–µ–Ω–∏–µ–º `extern "C"`, —á—Ç–æ –¥–∞—ë—Ç –ø–æ–Ω—è—Ç—å –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä—É, —á—Ç–æ –ø—Ä–∏ –≤—ã–∑–æ–≤–µ —ç—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏ –º–∞–Ω–≥–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–º–µ–Ω—è—Ç—å –Ω–µ –Ω–∞–¥–æ, —Ç–∞–∫ –∫–∞–∫ –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ —è–∑—ã–∫–∞ **–°–∏**, –≤ –∫–æ—Ç–æ—Ä–æ–º –ø—Ä–æ–ø–∏—Å–∞–Ω–æ, —á—Ç–æ –∏–º—è –º–µ—Ç–∫–∏ —Ñ—É–Ω–∫—Ü–∏–∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å –µ—ë –∏–º–µ–Ω–µ–º –≤ –ø—Ä–æ–≥—Ä–∞–º–º–µ, –Ω–∞–ø–∏—Å–∞–Ω–Ω–æ–π –Ω–∞ **–°–∏**. -->

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã

| –°–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä | –û–ø–∏—Å–∞–Ω–∏–µ            |
| :---:        | :---:               |
| `%%`         | –í—ã–≤–æ–¥ –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ `%`
| `%c`         | –í—ã–≤–æ–¥ –æ–¥–Ω–æ–≥–æ —Å–∏–º–≤–æ–ª–∞ `char`
| `%s`         | –í—ã–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏
| `%d`         | –í—ã–≤–æ–¥ —á–∏—Å–ª–∞ —Ç–∏–ø–∞ `int` –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —Å—á–∏—Å–ª–µ–Ω–∏—è
| `%f`         | –í—ã–≤–æ–¥ —á–∏—Å–µ–ª —Ç–∏–ø–æ–≤ `float` –∏ `double` –≤ –¥–µ—Å—è—Ç–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —Å—á–∏—Å–ª–µ–Ω–∏—è —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π
| `%b`         | –í—ã–≤–æ–¥ —á–∏—Å–ª–∞ –≤ –¥–≤–æ–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —Å—á–∏—Å–ª–µ–Ω–∏—è
| `%o`         | –í—ã–≤–æ–¥ —á–∏—Å–ª–∞ –≤ –≤–æ—Å—å–º–µ—Ä–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —Å—á–∏—Å–ª–µ–Ω–∏—è
| `%x`         | –í—ã–≤–æ–¥ —á–∏—Å–ª–∞ –≤ —à–µ—Å—Ç–Ω–∞–¥—Ü–∞—Ç–µ—Ä–∏—á–Ω–æ–π —Å–∏—Å—Ç–µ–º–µ —Å—á–∏—Å–ª–µ–Ω–∏—è
| `%n`         | –ó–∞–ø–∏—Å—å –ø–æ —É–∫–∞–∑–∞—Ç–µ–ª—é –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –≤—ã–≤–µ–¥–µ–Ω–Ω—ã—Ö —Å–∏–º–≤–æ–ª–æ–≤ –∫ —ç—Ç–æ–º—É –º–æ–º–µ–Ω—Ç—É
| `%C`         | –ú–µ–Ω—è–µ—Ç —Ü–≤–µ—Ç –≤—ã–≤–æ–¥–∏–º–æ–≥–æ —Ç–µ–∫—Å—Ç–∞

## –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤

–î–ª—è –≤—ã–≤–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –±—É—Ñ–µ—Ä —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞ (255 —Å–∏–º–≤–æ–ª–æ–≤), –∫–æ—Ç–æ—Ä—ã–π –≤—ã–≤–æ–¥–∏—Ç—Å—è –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –∏–ª–∏ –ø—Ä–∏ –µ–≥–æ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–∏. –î–ª—è –∏–Ω–¥–µ–∫—Å–∞—Ü–∏–∏ –≤ –±—É—Ñ–µ—Ä–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ä–µ–≥–∏—Å—Ç—Ä **RCX**. –ü—Ä–∏ –≤—ã–≤–æ–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `syscall`, –ø–æ—Å–ª–µ –∫–æ—Ç–æ—Ä–æ–≥–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –∫–æ–¥–∞ –æ—à–∏–±–∫–∏ –≤ —Å–ª—É—á–∞–µ –µ–≥–æ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è. –ö–æ–¥ –æ—à–∏–±–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –≤ —Ñ–∞–π–ª–µ [myprintf.h](myprintf.h).

–î–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –≤—Å–µ—Ö –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ –≤ –Ω–∞—á–∞–ª–µ –≤—Å–µ —Ä–µ–≥–∏—Å—Ç—Ä—ã, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –≤ —Å–æ–≥–ª–∞—à–µ–Ω–∏–∏ **System V AMD64 ABI**, –∫–ª–∞–¥—É—Ç—Å—è –≤ —Å—Ç–µ–∫, –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ –¥–æ—Å—Ç–∞–≤ –∏–∑ –Ω–µ–≥–æ –∞–¥—Ä–µ—Å –≤–æ–∑–≤—Ä–∞—Ç–∞ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–∏. –ó–∞—Ç–µ–º –≤ —Å—Ç–µ–∫ –∫–ª–∞–¥—ë—Ç—Å—è –∞–¥—Ä–µ—Å –≤–æ–∑–≤—Ä–∞—Ç–∞ –∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞ **RBP**, –∫–æ—Ç–æ—Ä–æ–º—É –ø–æ—Ç–æ–º –ø—Ä–∏—Å–≤–∞–∏–≤–∞–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞ **RSP**. –í —Ä–µ–≥–∏—Å—Ç—Ä **RSI** –∫–ª–∞–¥—ë—Ç—Å—è –∞–¥—Ä–µ—Å —Ñ–æ—Ä–º–∞—Ç–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –∞ –Ω–∞ –ø–µ—Ä–≤—ã–π –ø–æ—Å–ª–µ –Ω–µ—ë –∞—Ä–≥—É–º–µ–Ω—Ç –Ω–∞—á–∏–Ω–∞–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä **R8**, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –∞–¥—Ä–µ—Å–∞—Ü–∏–∏ –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º. –í —Ç–æ –∂–µ –≤—Ä–µ–º—è, –Ω–∞ –Ω–∞—á–∞–ª–æ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤, –ª–µ–∂–∞—â–∏—Ö –≤ —Å—Ç–µ–∫–µ (–ø–æ –∞–¥—Ä–µ—Å—É `RBP - 8 * STACK_ELEMENT_SIZE`), –Ω–∞—á–∏–Ω–∞–µ—Ç —É–∫–∞–∑—ã–≤–∞—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä **R9**, –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –¥–ª—è –∞–¥—Ä–µ—Å–∞—Ü–∏–∏ –∫ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º —Ñ—É–Ω–∫—Ü–∏–∏, —è–≤–ª—è—é—â–∏–º—Å—è —á–∏—Å–ª–∞–º–∏ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π. –≠—Ç–∏ –¥–≤–∞ —É–∫–∞–∑–∞—Ç–µ–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è (–ø—Ä–∏–Ω–∏–º–∞—é—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è) –∫–∞–∫ —Ç–æ–ª—å–∫–æ –±—É–¥—É—Ç –ø–µ—Ä–µ–±—Ä–∞–Ω—ã –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –≤ —Ñ—É–Ω–∫—Ü–∏—é —á–µ—Ä–µ–∑ —Ä–µ–≥–∏—Å—Ç—Ä—ã.

–ü—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ —Å—Ç—Ä–æ–∫–∏ –∏—â—É—Ç—Å—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã (—Å–Ω–∞—á–∞–ª–∞ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–∏–º–≤–æ–ª `%`, –∞ –∑–∞—Ç–µ–º –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è —Å–∞–º —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä), –∞ –∑–∞—Ç–µ–º –ø—Ä–∏ –ø–æ–º–æ—â–∏ **JUMP-—Ç–∞–±–ª–∏—Ü—ã** –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤—ã–±–æ—Ä —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞. –í —Å–ª—É—á–∞–µ –Ω–µ –≤–∞–ª–∏–¥–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ –æ—à–∏–±–∫–∏, –∫–æ—Ç–æ—Ä—ã–π –º–æ–∂–Ω–æ –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Å –ø–æ–º–æ—â—å—é –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫–∞ –æ—à–∏–±–æ–∫ –∏–∑ **enum** –≤ —Å—Ç—Ä–æ–∫—É.

### –û–±—Ä–∞–±–æ—Ç–∫–∞ %c

–ë–µ—Ä—ë—Ç—Å—è —Å–∏–º–≤–æ–ª –∏ –∫–ª–∞–¥—ë—Ç—Å—è –≤ –±—É—Ñ–µ—Ä.

### –û–±—Ä–∞–±–æ—Ç–∫–∞ %s

–í—ã–≤–æ–¥–∏—Ç—Å—è —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ –±—É—Ñ–µ—Ä–∞, –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–∞, –ø–µ—Ä–µ–¥–∞–Ω–Ω–∞—è, –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä. –ü—Ä–∏ –ø—Ä–æ—Å–º–æ—Ç—Ä–µ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –µ—ë –¥–ª–∏–Ω–∞, –∞ –∑–∞—Ç–µ–º —ç—Ç–∞ —Å—Ç—Ä–æ–∫–∞ –≤—ã–≤–æ–¥–∏—Ç—Å—è.

### –û–±—Ä–∞–±–æ—Ç–∫–∞ %d

–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –º–∏–Ω—É—Å –≤ —á–∏—Å–ª–µ, –∑–∞—Ç–µ–º —á–∏—Å–ª–æ –¥–µ–ª–∏—Ç—Å—è –Ω–∞ 10 –∏ –ø–æ —Ü–∏—Ñ—Ä–∞–º –∫–ª–∞–¥—ë—Ç—Å—è –≤ —Å—Ç–µ–∫. –ó–∞—Ç–µ–º –ø—Ä–∏ –ø–æ–º–æ—â–∏ "–∞–ª—Ñ–∞–≤–∏—Ç–∞" —Ü–∏—Ñ—Ä –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–∏–º–≤–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ —á–∏—Å–ª–∞.

### –û–±—Ä–∞–±–æ—Ç–∫–∞ %f

–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ, –∫–∞–∫–æ–π —Å–ø–æ—Å–æ–± –ø–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –Ω—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å - –≤–∑—è—Ç—å –µ–≥–æ –∏–∑ —à–∏—Ä–æ–∫–æ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞ **XMM** –∏–ª–∏ –∏–∑ —Å—Ç–µ–∫–∞. –í—ã–±–æ—Ä –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –ø–æ–º–æ—â—å—é **JUMP-—Ç–∞–±–ª–∏—Ü—ã**, –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è –≤ –∫–æ—Ç–æ—Ä–æ–π –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –ø–æ–º–æ—â—å—é –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π, —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–π –≤ —Å—Ç–µ–∫–µ.

–ó–∞—Ç–µ–º –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ **NAN** –∏ **INF** —Å –ø–æ–º–æ—â—å—é —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏—è —ç–∫—Å–ø–æ–Ω–µ–Ω—Ç—ã —Å –µ—ë –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –º–∞–Ω—Ç–∏—Å—Å—ã —Å –Ω—É–ª—ë–º.

–ü–æ—Å–ª–µ–¥—É—é—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –æ–ø–∏—Å–∞–Ω –≤ –≤–∏–¥–µ –ø—Å–µ–≤–¥–æ–∫–æ–¥–∞:

``` pseudocode
    RAX := —á–∏—Å–ª–æ

    RBX := –º–∞–Ω—Ç–∏—Å—Å–∞ (RAX)
    RBX := RBX + 2 ^ (–¥–ª–∏–Ω–∞ –º–∞–Ω—Ç–∏—Å—Å—ã)
    RDX := —ç–∫—Å–ø–æ–Ω–µ–Ω—Ç–∞ (RAX)

    RCX := –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω—É–ª–µ–π –Ω–∞ –∫–æ–Ω—Ü–µ –¥–≤–æ–∏—á–Ω–æ–π –∑–∞–ø–∏—Å–∏ RBX
    shr RBX, RCX

    RCX := (–¥–ª–∏–Ω–∞ –º–∞–Ω—Ç–∏—Å—Å—ã) - RCX + RDX

    // –ß–∏—Å–ª–æ = RBX * 2^(-RCX)

    –ï—Å–ª–∏ (RCX < 0)
    {
        shl RBX, RCX
        PrintInt (RBX) // –í—ã–≤–æ–¥ –∑–Ω–∞—á–µ–Ω–∏—è RBX –∫–∞–∫ –¥–µ—Å—è—Ç–∏—á–Ω–æ–≥–æ —Ü–µ–ª–æ–≥–æ
    }
    –ò–Ω–∞—á–µ
    {
        // –ß–∏—Å–ª–æ = RBX * 2^(-RCX) = RBX * 5^(RCX) * 10^(-RCX)
        // –ù—É–∂–Ω–æ –Ω–µ –¥–æ–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞ RBX –ø—Ä–∏
        // –ø–µ—Ä–µ–º–Ω–æ–∂–µ–Ω–∏–∏ –µ–≥–æ –Ω–∞ 5^(RCX)

        // –î–ª—è —ç—Ç–æ–≥–æ –ø–æ–ª—É—á–∏–≤—à–µ–µ—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å
        // –±–æ–ª—å—à–µ 2^64
        // –¢–æ–≥–¥–∞ –≤—Å–ø–æ–º–Ω–∏–º, —á—Ç–æ
        // RBX * 5^(RCX) < RBX * 8^(RCX) = RBX * 2^(3*RCX)
        // –¢–æ –µ—Å—Ç—å, —á—Ç–æ–±—ã –Ω–µ –±—ã–ª–æ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è, –∑–Ω–∞—á–µ–Ω–∏–µ 3*RCX
        // –î–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–µ–Ω—å—à–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –Ω–µ–∑–Ω–∞—á–∞—â–∏—Ö –Ω—É–ª–µ–π
        // –≤ –¥–≤–æ–∏—á–Ω–æ–π –∑–∞–ø–∏—Å–∏ —á–∏—Å–ª–∞ RBX

        RDX := –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–µ–∑–Ω–∞—á–∞—â–∏—Ö –Ω—É–ª–µ–π –≤ –¥–≤–æ–∏—á–Ω–æ–π –∑–∞–ø–∏—Å–∏ RBX

        –ï—Å–ª–∏ (3 * RCX <= RDX)
        {
            RBX := RBX * 5^(RCX)
            PrintFloat (RBX, RCX)
            // –í—ã–≤–æ–¥ —á–∏—Å–ª–∞, –ª–µ–∂–∞—â–µ–≥–æ –≤ RBX —Å —É—á—ë—Ç–æ–º —Å—Ç–µ–ø–µ–Ω–∏ –¥–µ—Å—è—Ç–∫–∏, –ª–µ–∂–∞—â–µ–π –≤ RCX
            // (—ç—Ç–∞ —Å—Ç–µ–ø–µ–Ω—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏'.')
        }
        –ò–Ω–∞—á–µ
        {
            // –î–ª—è –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è –≤–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –≤—ã—Ä–∞–∂–µ–Ω–∏–µ–º
            // RBX * 10^(-RCX) * 5^(RCX) = RBX/2 * 10^(-(RCX - 1)) * 5^(RCX - 1)
            // –¢–æ–≥–¥–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ, —Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ —Ç–∞–∫–æ–µ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç
            // –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ, —Ä–∞–≤–Ω–æ —Ä–∞–∑–Ω–∏—Ü–µ (3*RCX - RDX)/4,
            // —Ç–∞–∫ –∫–∞–∫ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è
            // RCX —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ 1, –∞ RDX, —Ä–∞–≤–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É
            // –Ω–µ–∑–Ω–∞—á–∞—â–∏—Ö –Ω—É–ª–µ–π RBX, —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ 1, –∞ –≤ —Ä–∞–∑–Ω–∏—Ü—É
            // —ç—Ç–∏ —Ä–µ–≥–∏—Å—Ç—Ä—ã –≤—Ö–æ–¥—è—Ç —Å—É–º–º–∞—Ä–Ω–æ 4 —Ä–∞–∑–∞

            RAX := RCX         // –°–æ—Ö—Ä–∞–Ω–∏–º –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ RCX
            RCX := RCX - RDX
            shr RCX, 2

            // –í–æ—Å–ø–æ–ª—å–∑—É–µ–º—Å—è –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ–º
            shr RBX, RCX
            RAX := RAX - RCX
            RCX := RAX

            // –ú–æ–∂–Ω–æ —É–º–Ω–æ–∂–∞—Ç—å RBX –Ω–∞ 5^(RCX) –∏ –≤—ã–≤–æ–¥–∏—Ç—å
            RBX := RBX * 5^(RCX)
            PrintFloat (RBX, RCX)
            // –í—ã–≤–æ–¥ —á–∏—Å–ª–∞, –ª–µ–∂–∞—â–µ–≥–æ –≤ RBX —Å —É—á—ë—Ç–æ–º —Å—Ç–µ–ø–µ–Ω–∏ –¥–µ—Å—è—Ç–∫–∏, –ª–µ–∂–∞—â–µ–π –≤ RCX
            // (—ç—Ç–∞ —Å—Ç–µ–ø–µ–Ω—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å—Ç–∞–Ω–æ–≤–∫–∏'.')
        }
    }

```


<!-- –° –ø–æ–º–æ—â—å—é –±–∏—Ç–æ–≤—ã—Ö —Å–¥–≤–∏–≥–æ–≤ –≤ —Ä–µ–≥–∏—Å—Ç—Ä **RBX** –∫–ª–∞–¥—ë—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ –º–∞–Ω—Ç–∏—Å—Å—ã + –µ—ë —Å—Ç–∞—Ä—à–∏–π –±–∏—Ç, –∞ –≤ —Ä–µ–≥–∏—Å—Ç—Ä **RDX** - –∑–Ω–∞—á–µ–Ω–∏–µ —ç–∫—Å–ø–æ–Ω–µ–Ω—Ç—ã. –ó–∞—Ç–µ–º –≤ —Ä–µ–≥–∏—Å—Ç—Ä **RCX** –∫–ª–∞–¥—ë—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ, —Ä–∞–≤–Ω–æ–µ –¥–ª–∏–Ω–µ –º–∞–Ω—Ç–∏—Å—Å—ã –º–∏–Ω—É—Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω—É–ª–µ–π –Ω–∞ –µ—ë –∫–æ–Ω—Ü–µ, –∞ —Ä–µ–≥–∏—Å—Ç—Ä **RBX** —Å–¥–≤–∏–≥–∞–µ—Ç—Å—è –≤–ø—Ä–∞–≤–æ –Ω–∞ —á–∏—Å–ª–æ, –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –Ω—É–ª–µ–π –Ω–∞ –µ–≥–æ –∫–æ–Ω—Ü–µ. –ó–∞—Ç–µ–º –∫ —Ä–µ–≥–∏—Å—Ç—Ä—É **RCX** –ø—Ä–∏–±–∞–≤–ª—è–µ—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ —ç–∫—Å–ø–æ–Ω–µ–Ω—Ç—ã. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º, –º—ã –ø–æ–ª—É—á–∞–µ–º, —á—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–≥–æ —á–∏—Å–ª–∞ —Ä–∞–≤–Ω–æ $RBX * 2^{-RCX}$.

–î–∞–ª–µ–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞:
- –ï—Å–ª–∏ –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞ **RCX** –º–µ–Ω—å—à–µ –Ω—É–ª—è, —Ç–æ–≥–¥–∞ —Ä–µ–≥–∏—Å—Ç—Ä **RBX** —Å–¥–≤–∏–≥–∞–µ—Ç—Å—è –≤–ª–µ–≤–æ –Ω–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ **RCX** –∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è, –∫–∞–∫ –¥–µ—Å—è—Ç–∏—á–Ω–æ–µ.
- –í –ø—Ä–æ—Ç–∏–≤–Ω–æ–º —Å–ª—É—á–∞–µ, –º–æ–∂–Ω–æ –ø—Ä–µ–¥—Å—Ç–∞–≤–∏—Ç—å –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ —á–∏—Å–ª–æ, –∫–∞–∫ $RBX * 2^{-RCX} = RBX * 10^{-RCX} * 5^{RCX}$. –î–∞–ª–µ–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º, –∫–∞–∫ –Ω–µ –¥–æ–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è —Ä–µ–≥–∏—Å—Ç—Ä–∞ –ø—Ä–∏ –ø–µ—Ä–µ–º–Ω–æ–∂–µ–Ω–∏–∏ **RBX** –Ω–∞ 5 –≤ —Å—Ç–µ–ø–µ–Ω–∏ **RCX** —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º –æ–∫—Ä—É–≥–ª–µ–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ. $RBX * 10^{-RCX} * 5^{RCX} = \frac{RBX}{2} * 10^{-(RCX - 1)} * 5^{RCX - 1}$ –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –º—ã –º–æ–∂–µ–º –±–∏—Ç–æ–≤—ã–º —Å–¥–≤–∏–≥–æ–º –Ω–∞ 1 –≤–ø—Ä–∞–≤–æ —É–º–µ–Ω—å—à–∞—Ç—å **RBX**, —É–º–µ–Ω—å—à–∞—è –ø—Ä–∏ —ç—Ç–æ–º –∏ **RCX**, –æ–¥–Ω–∞–∫–æ, —Å–æ—Ö—Ä–∞–Ω—è—è –ø—Ä–∏–±–ª–∏–∂—ë–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π.
 –°–ª—É—á–∞–π –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –Ω–∞—Å—Ç—É–ø–∞–µ—Ç, –µ—Å–ª–∏  $RBX * 5^{RCX} > 2^{64}$. –û–¥–Ω–∞–∫–æ, $RBX * 5^{RCX} < BX * 8^{RCX} = BX * 2^{3 * RCX}$. –¢–æ –µ—Å—Ç—å, 5<sup>**RCX**</sup> –º–æ–∂–Ω–æ —Å—Ä–∞–≤–Ω–∏—Ç—å —Å –±–∏—Ç–æ–≤—ã–º —Å–¥–≤–∏–≥–æ–º –≤–ª–µ–≤–æ –Ω–∞ –≤–µ–ª–∏—á–∏–Ω—É 3 * **RCX**. –û–¥–Ω–∞–∫–æ, —ç—Ç–æ –∑–Ω–∞—á–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –º–µ–Ω—å—à–µ, —á–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω—É–ª–µ–π –≤ –Ω–∞—á–∞–ª–µ **RBX**. –¢–æ–≥–¥–∞ –ø–æ–ª–æ–∂–∏–º –≤ —Ä–µ–≥–∏—Å—Ç—Ä **RDX** –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω—É–ª–µ–π –∏–∑ –Ω–∞—á–∞–ª–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞ **RBX**, –≤ —Ä–µ–≥–∏—Å—Ç—Ä **RAX** —Å–æ—Ö—Ä–∞–Ω–∏–º –∑–Ω–∞—á–µ–Ω–∏–µ **RCX**, –∞ –≤ —Ä–µ–≥–∏—Å—Ç—Ä **RCX** –ø–æ–ª–æ–∂–∏–º –µ–≥–æ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —É–º–Ω–æ–∂–µ–Ω–Ω–æ–µ –Ω–∞ 3. –°—Ä–∞–≤–Ω–∏–º **RCX** –∏ **RDX**. –ï—Å–ª–∏ –≤ **RDX** –ª–µ–∂–∏—Ç –±–æ–ª—å—à–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ, —Ç–æ —É–º–Ω–æ–∂–∞–µ–º **RBX** –Ω–∞ 5<sup>**RCX**</sup> –∏ –≤—ã–≤–æ–¥–∏–º —á–∏—Å–ª–æ –≤ –±—É—Ñ–µ—Ä, –Ω–µ –∑–∞–±—ã–≤ –ø—Ä–æ —Ç–æ—á–∫—É, –∫–æ—Ç–æ—Ä–∞—è –ª–µ–∂–∏—Ç –ª–µ–≤–µ–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–Ω–∞—á–∞—â–µ–π —Ü–∏—Ñ—Ä—ã —á–∏—Å–ª–∞ –Ω–∞ –≤–µ–ª–∏—á–∏–Ω—É, —Ä–∞–≤–Ω—É—é **RCX**. –ï—Å–ª–∏ –∂–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ **RDX** –º–µ–Ω—å—à–µ, —Ç–æ –≤—ã—á—Ç–µ–º –µ–≥–æ –∏–∑ **RCX** –∏ –ø–æ–¥–µ–ª–∏–º –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –Ω–∞ 4 –ø—Ä–∏ –ø–æ–º–æ—â–∏ –±–∏—Ç–æ–≤–æ–≥–æ —Å–¥–≤–∏–≥–∞ (—Ç–∞–∫ –∫–∞–∫ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è $RBX * 5^{RCX} = \frac{RBX}{2} * 10^{-(RCX - 1)} * 5^{RCX - 1}$ –∑–Ω–∞—á–µ–Ω–∏–µ **RCX** —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É, –∞ –∑–Ω–∞—á–µ–Ω–∏–µ **RDX**, —Ä–∞–≤–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤—É –Ω–µ –∑–Ω–∞—á–∞—â–∏—Ö –Ω—É–ª–µ–π —Ä–µ–≥–∏—Å—Ç—Ä–∞ **RBX**, —É–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –µ–¥–∏–Ω–∏—Ü—É. –ü–æ–ª—É—á–∞–µ—Ç—Å—è, —á—Ç–æ —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É **RDX** –∏ 3 * **RCX** —Å–æ–∫—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞ 4 –ø—Ä–∏ –∫–∞–∂–¥–æ–º –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–∏). –¢–µ–ø–µ—Ä—å —Å–¥–≤–∏–Ω–µ–º **RBX** –≤–ø—Ä–∞–≤–æ –Ω–∞ —ç—Ç—É –≤–µ–ª–∏—á–∏–Ω—É, —É–º–µ–Ω—å—à–∏–º **RAX** –Ω–∞ —ç—Ç—É –∂–µ –≤–µ–ª–∏—á–∏–Ω—É –∏ –≤–µ—Ä–Ω—ë–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ —ç—Ç–æ–≥–æ —Ä–µ–≥–∏—Å—Ç—Ä–∞ –≤ **RCX**. –¢–µ–ø–µ—Ä—å –£–º–Ω–æ–∂–∞–µ–º **RBX** –Ω–∞ 5<sup>**RCX**</sup> –∏ –≤—ã–≤–æ–¥–∏–º —á–∏—Å–ª–æ –≤ –±—É—Ñ–µ—Ä, –Ω–µ –∑–∞–±—ã–≤ –ø—Ä–æ —Ç–æ—á–∫—É, –∫–æ—Ç–æ—Ä–∞—è –ª–µ–∂–∏—Ç –ª–µ–≤–µ–µ –ø–æ—Å–ª–µ–¥–Ω–µ–π –∑–Ω–∞—á–∞—â–µ–π —Ü–∏—Ñ—Ä—ã —á–∏—Å–ª–∞ –Ω–∞ –≤–µ–ª–∏—á–∏–Ω—É, —Ä–∞–≤–Ω—É—é **RCX**. -->

### –û–±—Ä–∞–±–æ—Ç–∫–∞ %b, %o, %x

–°–Ω–∞—á–∞–ª–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –º–∏–Ω—É—Å –≤ —á–∏—Å–ª–µ, –∞ –∑–∞—Ç–µ–º —á–∏—Å–ª–æ –±–∏—Ç–æ–≤—ã–º–∏ —Å–¥–≤–∏–≥–∞–º–∏ —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ü–∏—Ñ—Ä—ã –∏ –ø—Ä–∏ –ø–æ–º–æ—â–∏ "–∞–ª—Ñ–∞–≤–∏—Ç–∞" —Ü–∏—Ñ—Ä –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–æ—Å–∏–º–≤–æ–ª—å–Ω—ã–π –≤—ã–≤–æ–¥ —á–∏—Å–ª–∞.

### –û–±—Ä–∞–±–æ—Ç–∫–∞ %n

–ë–µ—Ä—ë—Ç—Å—è –∞—Ä–≥—É–º–µ–Ω—Ç –∏ –ø–æ –µ–≥–æ –∞–¥—Ä–µ—Å—É –∫–ª–∞–¥—ë—Ç—Å—è –∑–Ω–∞—á–µ–Ω–∏–µ, —Ö—Ä–∞–Ω—è—â–µ–µ—Å—è –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω–æ–π (—Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–Ω–æ–π –≤ —Å—Ç–µ–∫–µ) –ø–ª—é—Å –∑–Ω–∞—á–µ–Ω–∏–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞ **RCX**.

### –û–±—Ä–∞–±–æ—Ç–∫–∞ %C

–í—Ç–æ—Ä—ã–º —Å–∏–º–≤–æ–ª–æ–º –ø–æ—Å–ª–µ C –∏–¥—ë—Ç –±—É–∫–≤–∞, –æ–±–æ–∑–Ω–∞—á–∞—é—â–∞—è –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ü–≤–µ—Ç, –≤ –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç —Ä–∞–∑—É–∫—Ä–∞—à–µ–Ω —Ç–µ–∫—Å—Ç –¥–æ —Å–ª–µ–¥—É—é—â–µ–π —Å–º–µ–Ω—ã —Ü–≤–µ—Ç–∞ –∏–ª–∏ –¥–æ –∫–æ–Ω—Ü–∞ –≤—ã–≤–æ–¥–∏–º–æ–≥–æ —Ç–µ–∫—Å—Ç–∞.

–í —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –≤—ã—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª - –Ω–µ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥, —Ç–æ —Ü–≤–µ—Ç–∞ –≤ –Ω–µ–≥–æ –Ω–µ –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è.

| –°–∏–º–≤–æ–ª –¥–ª—è —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ | –¶–≤–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ–Ω –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç
| :---:                    | :---:
| b                        | <span style="color: black">  –ß—ë—Ä–Ω—ã–π  ‚¨§</span>
| g                        | <span style="color: green">  –ó–µ–ª—ë–Ω—ã–π üü¢</span>
| r                        | <span style="color: red">    –ö—Ä–∞—Å–Ω—ã–π üî¥</span>
| w                        | <span style="color: grey">   –ë–µ–ª—ã–π   ‚óØ</span>
| y                        | <span style="color: yellow"> –ñ—ë–ª—Ç—ã–π  üü°</span>

–ü—Ä–∏–º–µ—Ä:

–í—ã–∑–æ–≤ —Ñ—É–Ω–∫—Ü–∏–∏:
``` C
    MY_PRINTF (out, "\nMy Printf: \n%Cr%f %Cy%f %Cw%f %Cb%f\n"
                              "%Cg%d %s %x %d%%%c%b\n",
                              NAN, -NAN, INFINITY, -INFINITY,
                              -1, "love", 3802, 100, 33, 126);
```

–í—ã–≤–æ–¥:

![alt text](data/ColorPrint.png)


## –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º printf

| –û–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è | MyPrintf                         | –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π printf |
| :---:                  | :---:                            | :---:              |
| –ü–µ—Ä–µ–¥–∞—á–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é –º–Ω–æ–∂–µ—Å—Ç–≤–∞ –∞—Ä–≥—É–º–µ–Ω—Ç–æ–≤ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π –∏ –≤—Å—Ç–∞–≤–∫–∞ –ø–æ—Å—Ä–µ–¥–∏ –Ω–∏—Ö —Å–∏–º–≤–æ–ª–∞ | ![alt text](data/MyPrintfMany.png) | ![alt text](data/OriginalMany.png)
| –ü–µ—Ä–µ–¥–∞—á–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é `NAN` –∏ `INF` | ![alt text](data/MyPrintfNAN_INF.png) | ![alt text](data/OriginalNAN_INF.png)
| –ü–µ—Ä–µ–¥–∞—á–∞ –≤ —Ñ—É–Ω–∫—Ü–∏—é –º–∞–ª–µ–Ω—å–∫–æ–≥–æ —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π (–≤ –¥–∞–Ω–Ω–æ–º —Å–ª—É—á–∞–µ $10^{-5}$) | ![alt text](data/MyPrintfSmallNum.png) | ![alt text](data/OriginalSmallNum.png)

–î–ª—è —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –≤—ã–≤–æ–¥ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —á–∏—Å–µ–ª —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π (–±–æ–ª—å—à–µ–π, —á–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –¥–ª—è –∏—Ö –ø–µ—Ä–µ–¥–∞—á–∏ —Ä–µ–≥–∏—Å—Ç—Ä–æ–≤), –∞ —Ç–∞–∫ –∂–µ –≤—ã–≤–æ–¥ –ø–æ—Å—Ä–µ–¥–∏ –Ω–∏—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–∞, –Ω–µ —è–≤–ª—è—é—â–µ–≥–æ—Å—è —á–∏—Å–ª–æ–º —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π. –¢–∞–∫ –∂–µ –≤ —Å—Ä–∞–≤–Ω–µ–Ω–∏–∏ —è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –≤—ã–≤–æ–¥ **INF** –∏ **NAN** —Å–æ –∑–Ω–∞–∫–æ–º, –∞ –µ—â—ë –º–∞–ª–µ–Ω—å–∫–∏—Ö —á–∏—Å–µ–ª. –ú–æ–∂–Ω–æ —É–≤–∏–¥–µ—Ç—å, —á—Ç–æ –º–æ—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –≤—ã–≤–æ–¥–∞ —á–∏—Å–ª–∞ —Å –ø–ª–∞–≤–∞—é—â–µ–π —Ç–æ—á–∫–æ–π –Ω–µ —Ç–∞–∫–∞—è —Ç–æ—á–Ω–∞—è, –∫–∞–∫ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–∞—è, –Ω–æ –≤—Å—ë –∂–µ –≤—ã–≤–æ–¥–∏—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ –æ–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç.

## –í–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è

| –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ     | –ß–∏—Å–ª–æ–≤–æ–π —ç–∫–≤–∏–≤–∞–ª–µ–Ω—Ç | –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ |
| :---:                     | :---:               | :---:       |
| `kDonePrintf`             | 0                   | –ö–æ—Ä—Ä–µ–∫—Ç–Ω–æ–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏   |
| `kInvalidSpecifierPrintf` | 1                   | –í —Ñ–æ—Ä–º–∞—Ç–Ω–æ–π —Å—Ç—Ä–æ–∫–µ –±—ã–ª –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä   |
| `kSyscallErrorPrintf`     | 2                   | –ü—Ä–∏ –≤—ã–∑–æ–≤–µ `syscall` –¥–ª—è –≤—ã–≤–æ–¥–∞ –±—É—Ñ–µ—Ä–∞ –ø—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞   |
| `kInvalidColorPrintf`     | 3                   | –ù–µ–≤–µ—Ä–Ω—ã–π —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ü–≤–µ—Ç–∞   |

